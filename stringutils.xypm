{version="1.02",checksums={["/usr/lib/stringutils.lua"]="±kïtB\4b57kİt[®5•ƒUç \9ƒ\12\22'¶\20´3¶"},name="stringutils",files={["/usr/lib/stringutils.lua"]="local stringutils = {}\13\n\13\nlocal units = {\13\n\9{1e-9, \"n\"},\13\n\9{1e-6, \"Âµ\"},\13\n\9{1e-3, \"m\"},\13\n\9{1e0, \"\"},\13\n\9{1e3, \"Ki\"},\13\n\9{1e6, \"Me\"},\13\n\9{1e9, \"Gi\"},\13\n\9{1e12, \"Te\"},\13\n\9{1e15, \"Pe\"},\13\n\9{1e18, \"Ex\"}\13\n}\13\n\13\nfunction stringutils.formatNumber(number, unit, padding, precision)\13\n\9local last_div = 1\13\n\9local last_prefix = \"\"\13\n\9for _, v in pairs(units) do\13\n\9\9if math.abs(number) < v[1] then\13\n\9\9\9break\13\n\9\9end\13\n\9\9last_div = v[1]\13\n\9\9last_prefix = v[2]\13\n\9end\13\n\13\n\9local number_div = number / last_div\13\n\9local spacing = 0\13\n\9if padding == true then\13\n\9\9spacing = 2 + string.len(unit) - string.len(last_prefix)\13\n\9end\13\n\13\n\9if number_div < 10 then\13\n\9\9return string.format(\"%\" .. tostring(spacing) .. \".0\" .. tostring(precision) .. \"f %s%s\", number_div, last_prefix, unit)\13\n\9elseif number_div < 100 then\13\n\9\9return string.format(\"%\" .. tostring(spacing) .. \".0\" .. tostring(precision-1) .. \"f %s%s\", number_div, last_prefix, unit)\13\n\9else\13\n\9\9return string.format(\"%\" .. tostring(spacing) .. \".0f %s%s\", number_div, last_prefix, unit)\13\n\9end\13\nend\13\n\13\nfunction stringutils.formatRFt(RFt, padding, precision)\13\n\9return stringutils.formatNumber(RFt, \"RF/t\", padding, math.max(2, precision or 2))\13\nend\13\n\13\nfunction stringutils.formatBt(Bt, padding, precision)\13\n\9return stringutils.formatNumber(Bt, \"B/t\", padding, math.max(2, precision or 2))\13\nend\13\n\13\n\13\nreturn stringutils\13\n"},links={}}